<div class="app-content container-fluid">
  <div class="row">
    <div class="col-12">
      <button style="display: block; width: 24px;" mat-icon-button color="accent" (click)="toggleReadonlyMode()">
        <mat-icon *ngIf="readonlyMode">lock</mat-icon>
        <mat-icon *ngIf="!readonlyMode">lock_open</mat-icon>
      </button>

      <mat-form-field>
        <input matInput placeholder="חפש" [(ngModel)]="searchString">
      </mat-form-field>

      <div>
        <mat-checkbox [(ngModel)]="statusFilter[0]">לא נוכחים</mat-checkbox>
        <mat-checkbox [(ngModel)]="statusFilter[1]">נוכחים בלי אישור</mat-checkbox>
        <mat-checkbox [(ngModel)]="statusFilter[2]">נוכחים עם אישור</mat-checkbox>
      </div>

      <mat-list>
        <mat-list-item *ngFor="let person of persons$ | async; let last = last; let i = index; trackBy: trackByFn;"
          [class.hide]="shouldHide(person)" [class.readonly]="readonlyMode">
          <swiper #swiper matLine (indexChange)="onIndexChange($event, person)"
            (dblclick)="swiper.directiveRef.setIndex(2)">
            <div class="list-item-content">{{person.name}}</div>
            <div class="list-item-content steady">{{person.name}}</div>
            <div class="list-item-content go">{{person.name}}</div>
          </swiper>
          <mat-divider [inset]="true" *ngIf="!last"></mat-divider>
        </mat-list-item>
      </mat-list>
    </div>
  </div>
</div>
